<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucy & Mau - Nuestra Boda</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Mrs+Saint+Delafield&family=Outfit:wght@300;400;600&family=Playfair+Display:wght@500;700&family=Delius&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="estilos.css">
</head>

<body>
    <header>
        <img src="images/header.png" alt="Lucy & Mau" class="header-logo">
    </header>

    <section class="contador-section">        
        <div class="contador" id="contador"></div>
    </section>

    <section class="seccion">
        <p class="invitacion">
            Lo pensamos, lo meditamos‚Ä¶ y luego dijimos: ‚Äús√≠ lo vamos a hacer hay que hacerlo ya‚Äù.
            <br/><br/>
            As√≠ que, queremos que celebres con nosotros este gran paso.</p>
    </section>

    <section class="seccion">
        <h2 class="titulo">¬øD√≥nde y cu√°ndo?</h2>
        <div class="foto-venue-container">
            <img src="images/venue.jpg" alt="Foto del venue" class="foto-venue">
        </div>
        <p class="acentos">14 Marzo 2026 | 17:00 hrs.</p>
        <p class="lugares">Verde Olista Terraza y Jard√≠n</p>
        <p>Carr. Agostaderito Km 9.3, Salto de los Salado, Ags</p>
        <p><a href="https://maps.app.goo.gl/gMAG2Rv9W2pPDNFu7" target="_blank" class="boton">Ver en Google Maps</a></p>
    </section>

    <section class="seccion">
        <h2 class="titulo">C√≥digo de Vestimenta</h2>
        <div class="dresscode-contenido">
            <div class="dresscode-icono">
                <!-- Puedes incrustar tu SVG directamente o usar una imagen -->
                <img src="images/dresscode.png" alt="Dress code icono">
            </div>
            <div class="dresscode-texto">
                <p class="lugares">Celebra con nosotros con un look formal y con estilo.</p>                
                <p>¬°Queremos que luzcas incre√≠ble en cada foto!</p>
                <p></p>
                <p class="muted">Te pedimos evitar tonos <strong>blanco</strong>, <strong>beige</strong> y
                        <strong>rojo</strong>.</p>
            </div>
        </div>
    </section>

    <section class="seccion" id="confirmacion-section">
        <h2 class="titulo">Confirmaci√≥n de Asistencia</h2>
        <form class="formulario">
            <div class="form-contenedor">
                <label for="codigo">Ingresa tu c√≥digo de invitaci√≥n:</label>
                <input type="text" id="codigo" name="codigo" required>
                <p class="muted">Si no tienes tu c√≥digo, por favor contacta a Lucy o Mau.</p>
                <a href="#" id="btn-asistire" class="boton">Asistir√©</a>
                <a href="#" id="btn-no-asistire" class="boton-no">No podr√© asistir</a>
            </div>
        </form>        
    </section>

    <section class="seccion">
        <h2 class="titulo">Mesa de Regalos</h2>
        <p>Tu presencia es el mejor regalo, pero si deseas obsequiarnos algo, no nos quejamos:</p>
        <img src="images/liverpool.png" class="tienda" alt="Mesa de regalos" class="mesa-regalos">
        <p class="acentos">No. Evento: 33120</p>
        <p><a href="#" class="boton" style="margin-top: -2rem;">Ver mesa de regalos</a></p>
    </section>

    <section class="seccion">
        <h2 class="titulo">Album Compartido</h2>
        <div class="dresscode-contenido">
            <div class="dresscode-icono">
                <!-- Puedes incrustar tu SVG directamente o usar una imagen -->
                <img src="images/album.png" width="300" alt="Album icono">
            </div>
            <div class="dresscode-texto">
                <p>Comparte tus fotos y videos del gran d√≠a y descubre los momentos capturados por nuestros seres queridos.</p>                
                <p class="muted">Tambi√©n podr√°s acceder desde el c√≥digo QR que encontrar√°s ese d√≠a.</p>
            </div>
        </div>
        <p><a href="https://photos.app.goo.gl/lMZgEXN3oPd7Xtzu9" target="_blank" class="boton">Ver √°lbum compartido</a></p>
    </section>

    <footer>
        <p>Gracias por acompa√±arnos en este d√≠a tan especial.</p>
    </footer>


    <script>        
        const contador = document.getElementById('contador');
        const fechaEvento = new Date("2026-03-14T17:00:00").getTime();
        const interval = setInterval(() => {
            const ahora = new Date().getTime();
            let diferencia = fechaEvento - ahora;

            if (diferencia <= 0) {
                contador.innerHTML = "¬°Hoy es el gran d√≠a!";
                clearInterval(interval);
                return;
            }

            const segundosTotales = Math.floor(diferencia / 1000);
            const minutosTotales = Math.floor(segundosTotales / 60);
            const horasTotales = Math.floor(minutosTotales / 60);
            const diasTotales = Math.floor(horasTotales / 24);

            const meses = Math.floor(diasTotales / 30);
            const dias = diasTotales % 30;
            const horas = horasTotales % 24;
            const minutos = minutosTotales % 60;
            const segundos = segundosTotales % 60;

            contador.innerHTML = `
        <div class="unidad"><strong>${meses}</strong><span>meses</span></div>
        <div class="unidad"><strong>${dias}</strong><span>d√≠as</span></div>
        <div class="unidad"><strong>${horas}</strong><span>horas</span></div>
        <div class="unidad"><strong>${minutos}</strong><span>minutos</span></div>
        <div class="unidad"><strong>${segundos}</strong><span>segundos</span></div>
      `;
        }, 1000);
    </script>

    <script>
    // Fecha l√≠mite para confirmar (por ejemplo, 1 de marzo de 2026)
    const fechaLimiteConfirmacion = new Date("2026-03-01T23:59:59").getTime();
    const seccionConfirmacion = document.getElementById("confirmacion-section");

    const ahora = new Date().getTime();

    if (ahora > fechaLimiteConfirmacion) {
        seccionConfirmacion.innerHTML = `
            <h2 class="titulo">Confirmaci√≥n de Asistencia</h2>
            <p class="muted">El periodo para confirmar asistencia ha finalizado.</p>
            <p>Si tienes dudas o necesitas hacer cambios, por favor contacta a Lucy o Mau directamente.</p>
        `;
    }

    // API URL - reemplaza con tu URL de Google Apps Script
    const urlAPI = "https://script.google.com/macros/s/AKfycbxXqvyseQ1gixOyLSlCFQLFfpDqTem6mWlyNrzT3gE_UKBd30djxniI1fYkniHRK-Ku/exec";

    document.getElementById("btn-asistire").addEventListener("click", function (e) {
        e.preventDefault();
        enviarConfirmacion("S√≠ asistir√©");
    });

    document.getElementById("btn-no-asistire").addEventListener("click", function (e) {
        e.preventDefault();
        enviarConfirmacion("No asistir√©");
    });

    function enviarConfirmacion(respuesta) {
        const codigo = document.getElementById("codigo").value.trim();

        if (!codigo) {
            alert("Por favor ingresa tu c√≥digo de invitaci√≥n.");
            return;
        }

        fetch(urlAPI, {
            method: "POST",
            body: JSON.stringify({ codigo, respuesta }),
            headers: {
                "Content-Type": "application/json"
            }
        })
        .then(res => res.json())
        .then(data => {
            if (data.exito) {
                alert(`¬°Gracias, ${data.nombre}, por confirmar: ${respuesta}! üéâ`);
            } else {
                alert("C√≥digo no v√°lido. Por favor contacta a Lucy o Mau.");
            }
        })
        .catch(err => {
            console.error(err);
            alert("Ocurri√≥ un error al enviar la confirmaci√≥n. Intenta de nuevo m√°s tarde.");
        });
    }
</script>

</body>

</html>
